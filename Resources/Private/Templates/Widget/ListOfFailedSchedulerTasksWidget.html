<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Widget/Widget" />
<f:section name="main">
    <f:if condition="{tasks}">
        <f:then>
            <div id="list-of-failed-scheduler-tasks-widget" class="widget-table-wrapper">
                <table class="widget-table">
                    <thead>
                    <tr>
                        <th><span><f:translate key="widgets.failedSchedulerTasks.content.task.id" extensionName="CustomDashboardWidgets"/></span></th>
                        <th><span><f:translate key="widgets.failedSchedulerTasks.content.task.title" extensionName="CustomDashboardWidgets"/></span></th>
                        <th><span><f:translate key="widgets.failedSchedulerTasks.content.task.additionalInformation" extensionName="CustomDashboardWidgets"/></span></th>
                        <th><span><f:translate key="widgets.failedSchedulerTasks.content.task.type" extensionName="CustomDashboardWidgets"/></span></th>
                        <th><span><f:translate key="widgets.failedSchedulerTasks.content.task.executionTime" extensionName="CustomDashboardWidgets"/></span></th>
                    </tr>
                    </thead>
                    <tbody>
                    <f:for each="{tasks}" as="task" key="uid">
                        <tr>
                            <td>
                                {uid}
                            </td>
                            <td class="task-information">
                                <strong>{task.title}</strong>
                                <f:if condition="{task.description} && {task.title} !== {task.description}">
                                    <br/>{task.description -> f:format.crop(maxCharacters:50)}
                                </f:if>
                            </td>
                            <td>
                                {task.additionalInformation}
                            </td>
                            <td>
                                <f:if condition="{task.type}">
                                    <f:translate key="widgets.failedSchedulerTasks.content.task.type.{task.type}" extensionName="CustomDashboardWidgets"/>
                                </f:if>
                            </td>
                            <td>
                                <f:if condition="{task.executionTime}">
                                    {task.executionTime -> f:format.date(format: 'd.m.Y - H:i:s')}
                                </f:if>
                            </td>
                        </tr>
                    </f:for>
                    </tbody>
                </table>
            </div>
        </f:then>
        <f:else>
            <div class="row widget-no-items-found">
                <div class="col-xs-12">
                    <p>
                        <f:translate key="widgets.failedSchedulerTasks.content.noFailedTasks" extensionName="CustomDashboardWidgets"/>
                    </p>
                </div>
            </div>
        </f:else>
    </f:if>
</f:section>
<f:section name="footer">
    <f:if condition="{button}">
        <f:render partial="ExtendedButton" arguments="{button: button}"/>
    </f:if>
</f:section>
</html>
